<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<TargetEndpoint name="bard">
  <Description/>
  <FaultRules/>
  <PreFlow name="PreFlow">
    <Request>
      <Step>
        <Condition>(request.header.x-api-key = null) and (request.queryparam.apikey != null)</Condition>
        <Name>copy-apikey-param-to-header</Name>
      </Step>
      <Step>
        <Condition>(request.header.x-api-key = null) and (request.queryparam.key != null)</Condition>
        <Name>copy-key-param-to-header</Name>
      </Step>
      <Step>
        <Name>verify-api-key-in-header</Name>
      </Step>
    </Request>
    <Response/>
  </PreFlow>
  <PostFlow name="PostFlow">
    <Request/>
    <Response/>
  </PostFlow>
  <Flows/>
  <HTTPTargetConnection>
    <Properties/>
    <URL>https://REPLACE_WITH_BARD_PSC_IP</URL>
    <SSLInfo>
      <Enabled>true</Enabled>
      <IgnoreValidationErrors>true</IgnoreValidationErrors>
    </SSLInfo>
  </HTTPTargetConnection>
</TargetEndpoint>
